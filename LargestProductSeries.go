package main

import (
	"fmt"
	"strconv"
)

//The four adjacent digits in the 1000-digit number that have the greatest product are 9 × 9 × 8 × 9 = 5832.
//Find the thirteen adjacent digits in the 1000-digit number that have the greatest product. What is the value of this product?

func main() {
	thousandDigitNumber := "7316717653133062491922511967442657474235534919493496983520312774506326239578318016984801869" +
		"47885184385861560789112949495459501737958331952853208805511125406987471585238630507156932909632952274430435576" +
		"68966489504452445231617318564030987111217223831136222989342338030813533627661428280644448664523874930358907296" +
		"29049156044077239071381051585930796086670172427121883998797908792274921901699720888093776657273330010533678812" +
		"20235421809751254540594752243525849077116705560136048395864467063244157221553975369781797784617406495514929086" +
		"25693219784686224828397224137565705605749026140797296865241453510047482166370484403199890008895243450658541227" +
		"58866688116427171479924442928230863465674813919123162824586178664583591245665294765456828489128831426076900422" +
		"42190226710556263211111093705442175069416589604080719840385096245544436298123098787992724428490918884580156166" +
		"09791913387549920052406368991256071760605886116467109405077541002256983155200055935729725716362695618826704282" +
		"52483600823257530420752963450"
	highestProduct := 0
	elementToRemove := 0
	operands := populateInitial(thousandDigitNumber)

	for x:= 13; x < 1000; x++ {
		product := multiplyAdjacents(operands)
		if product > highestProduct {
			highestProduct = product
		}

		nextInt, _ := strconv.Atoi(string(thousandDigitNumber[x]))
		operands[elementToRemove] = nextInt

		elementToRemove++
		if elementToRemove == 13 {
			elementToRemove = 0
		}
	}

	fmt.Println(highestProduct)
}

func populateInitial(thousandDigitNumber string) [13]int{
	var operands[13]int
	for x:= 0; x < 13; x++ {
		num, _ := strconv.Atoi(thousandDigitNumber[x:x+1])
		operands[x] = num
	}
	return operands
}

func multiplyAdjacents(nums [13]int) int {
	product := 1
	for _, value := range nums {
		product *= value
	}
	return product
}
